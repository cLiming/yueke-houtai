<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>首页</title>

		<!-- 引入vue -->
		<script src="/js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="/css/new_file1.css">
		<!-- 引入组件库 -->
		<script src="/lib/index.js"></script>
		<!-- 引入axios -->
		<!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
	</head>
	<body>
		<div id="nav">
			<div id="app">
				<el-container>
				  <el-header>
					  <div class="dingbu">
					  	<el-row :gutter="24">
					  	  <el-col :span="1"><div ></div></el-col>
					  	  <el-col :span="4"><div ><span>LOGO</span></div></el-col>
					  	  <el-col :span="8"><div ></div></el-col>
					  	  <el-col :span="6"><div ></div></el-col>
					  	  <el-col :span="1"><div ><el-avatar icon="el-icon-user-solid" :src="url"></el-avatar></div></el-col>
					  	  <el-col :span="2"><div ><span style="font-size: 15px;">{{name}}</span></div></el-col>
					  	</el-row>
					  </div>
				  </el-header>
				  <el-container>
				  	<div id="lolo">
				    <el-aside>
						<el-col :span="24">
							<el-menu class="el-menu-vertical-demo" >
								<div id="mokuaiming">
									<a href="#">悦客房车后台管理平台</a>
								</div>
								
								<el-submenu v-for="menu in menus" :index="menu.id+''">
									<template slot="title">
										<span>{{menu.name}}</span>
									</template>
										<el-menu-item-group>
											<el-menu-item v-for="child in menu.children" :index="child.id+''">
											  <a class="a-class" :href="child.resources+'?pid='+child.id" target="main">{{child.name}}</a>
											</el-menu-item>
										</el-menu-item-group>
								</el-submenu>
							</el-menu>
			
						</el-col>
						<el-col :span="24">
							<div id="out">
								<a href="/logout"><i class="el-icon-loading"></i>注销</a>
							</div>
						</el-col>
					</el-aside>
				</div>
				    <el-main>
						<iframe width="100%" height="100%" frameborder="0" scrolling="yes"  name="main" class="main">
						</iframe>
					</el-main>
					</el-container>
				 </el-container>
			</div>
		</div>
	</div>
	
	
		<script>
		var vm=new Vue({
			el:"#app",
			data:{
				menus:[],
				visible: false,
			},
			created:function(){
				var reg = new RegExp("(^|&)name=([^&]*)(&|$)");
				var r = window.location.search.substr(1).match(reg);
				var _this=this;
				$.ajax({
					url:"http://localhost:8081/worker/selectMenu",
					type:"get",
					success:function(data){
						_this.menus=data.list;
					}
				});
			}
		});
		</script>
	</body>
</html>
