<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>登录/注册</title>
		<script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
		<script type="text/javascript" src="/js/vue.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet"
				href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<!-- 引入组件库 -->
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		
		<style type="text/css">
			#app{
				height: 350px;
				width: 30%;
				border: 2px black solid;
				margin: auto;
				margin-top: 120px;
				background-color: white;
				opacity: 0.9;
				text-align: center;
				border-radius: 10px;
			}
			#div2{
				margin: auto;
				margin-top: 100px;
				width: 50%;
				border: 0px black solid;
			}
			
			body{
				background-image: url(../img/hospital.jpg);
				background-size: 100%;
				color: #000000;
			}
		</style>
	</head>
	<body>
		<div id="app" >
			<h2>欢迎来到蜗牛医院</h2>
				<el-container> 
					<el-main> 
						<el-row> 
							<el-col :offset="0" :span="24"> 
								<el-form ref="form" :model="form" label-width="80px"> 
										<el-form-item label="电话" >
											<el-input v-model="form.tel" ></el-input> 
										</el-form-item> 
										<el-form-item label="密码"> 
											<el-input v-model="form.password"></el-input>
										</el-form-item> 
									<el-form-item>
										<el-switch
											  v-model="form.rememberMe"
											  active-color="#13ce66"
											  inactive-color="#ff4949"
											  active-text="3天之内免登录"
											  inactive-text="关闭自动登陆"
											  >
										</el-switch><br />
										<el-button type="primary" @click="onSubmit">登陆</el-button> 
									</el-form-item>
								</el-form> 
							</el-col> 
						</el-row> 
					</el-main> 
				</el-container>
	</div>
		<script type="text/javascript">
			var vm=new Vue({
				el:"#app",
				data:{
					form:{
						tel:"",
						password:"",
						rememberMe:false
					},
				},
				methods:{
					onSubmit:function(){
						var _this=this;
						$.ajax({
							url:"/workers/login",
							data:_this.form,
							success:function(data){
								if(data.code=="200"){
									location.href="/page/index.html?name="+data.obj.name;
								}else{
									alert(data.message);
								}
							}
						});
					},
				}	
			})
		</script>
	</body>
</html>
